<extensionManifest><groupId>org.apache.nifi</groupId><artifactId>nifi-oauth2-provider-nar</artifactId><version>2.4.0</version><parentNar><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-shared-nar</artifactId><version>2.4.0</version></parentNar><systemApiVersion>2.1.0</systemApiVersion><buildInfo><tag>HEAD</tag><branch>UNKNOWN</branch><revision>65c7732</revision></buildInfo><extensions><extension><name>org.apache.nifi.oauth2.JWTBearerOAuth2AccessTokenProvider</name><type>CONTROLLER_SERVICE</type><description>Provides OAuth 2.0 access tokens that can be used as Bearer authorization header in HTTP requests. This controller service is for implementing the OAuth 2.0 JWT Bearer Flow.</description><tags><tag>oauth2</tag><tag>provider</tag><tag>authorization</tag><tag>access token</tag><tag>hjwt</tag></tags><properties><property><name>Token Endpoint URL</name><displayName>Token Endpoint URL</displayName><description>The URL of the OAuth2 token endpoint.</description><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Web Client Service</name><displayName>Web Client Service</displayName><description>The Web Client Service to use for calling the token endpoint.</description><controllerServiceDefinition><className>org.apache.nifi.web.client.provider.api.WebClientServiceProvider</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></controllerServiceDefinition><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Private Key Service</name><displayName>Private Key Service</displayName><description>The private key service to use for signing JWTs.</description><controllerServiceDefinition><className>org.apache.nifi.key.service.api.PrivateKeyService</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></controllerServiceDefinition><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Signing Algorithm</name><displayName>Signing Algorithm</displayName><description>The algorithm to use for signing the JWT.</description><defaultValue>PS256</defaultValue><allowableValues><allowableValue><displayName>RS256</displayName><value>RS256</value><description></description></allowableValue><allowableValue><displayName>RS384</displayName><value>RS384</value><description></description></allowableValue><allowableValue><displayName>RS512</displayName><value>RS512</value><description></description></allowableValue><allowableValue><displayName>PS256</displayName><value>PS256</value><description></description></allowableValue><allowableValue><displayName>PS384</displayName><value>PS384</value><description></description></allowableValue><allowableValue><displayName>PS512</displayName><value>PS512</value><description></description></allowableValue><allowableValue><displayName>ES256</displayName><value>ES256</value><description></description></allowableValue><allowableValue><displayName>ES384</displayName><value>ES384</value><description></description></allowableValue><allowableValue><displayName>ES512</displayName><value>ES512</value><description></description></allowableValue><allowableValue><displayName>Ed25519</displayName><value>Ed25519</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Issuer</name><displayName>Issuer</displayName><description>The issuer claim (iss) for the JWT.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Subject</name><displayName>Subject</displayName><description>The subject claim (sub) for the JWT.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Audience</name><displayName>Audience</displayName><description>The audience claim (aud) for the JWT. Space-separated list of audiences if multiple are expected.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Scope</name><displayName>Scope</displayName><description>The scope claim (scope) for the JWT.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>JWT ID</name><displayName>JWT ID</displayName><description>The "jti" (JWT ID) claim provides a unique identifier for the JWT. The identifier value must be assigned in a
manner that ensures that there's a negligible probability that the same value will be accidentally assigned to a
different data object; if the application uses multiple issuers, collisions MUST be prevented among values produced
by different issuers as well. The "jti" value is a case-sensitive string. If set, it is recommended to set this
value to ${UUID()}.
</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Set JWT Header X.509 Cert Thumbprint</name><displayName>Set JWT Header X.509 Cert Thumbprint</displayName><description>If true, will set the JWT header x5t field with the base64url-encoded SHA-256 thumbprint of the X.509 certificate's DER encoding.
If set to true, an instance of SSLContextProvider must be configured with a certificate using RSA algorithm.
</description><defaultValue>false</defaultValue><allowableValues><allowableValue><displayName>true</displayName><value>true</value><description></description></allowableValue><allowableValue><displayName>false</displayName><value>false</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>SSL Context Service</name><displayName>SSL Context Service</displayName><description>An instance of SSLContextProvider configured with a certificate that will be used to set the x5t header. Must be using RSA algorithm.</description><controllerServiceDefinition><className>org.apache.nifi.ssl.SSLContextProvider</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></controllerServiceDefinition><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>Set JWT Header X.509 Cert Thumbprint</propertyName><propertyDisplayName>Set JWT Header X.509 Cert Thumbprint</propertyDisplayName><dependentValues><dependentValue>true</dependentValue></dependentValues></dependency></dependencies></property><property><name>Key ID</name><displayName>Key ID</displayName><description>The ID of the public key used to sign the JWT. It'll be used as the kid header in the JWT.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Grant Type</name><displayName>Grant Type</displayName><description>Value to set for the grant_type parameter in the request to the token endpoint.</description><defaultValue>urn:ietf:params:oauth:grant-type:jwt-bearer</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Assertion Parameter Name</name><displayName>Assertion Parameter Name</displayName><description>Name of the parameter to use for the JWT assertion in the request to the token endpoint.</description><defaultValue>assertion</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Refresh Window</name><displayName>Refresh Window</displayName><description>The service will attempt to refresh tokens expiring within the refresh window, subtracting the configured duration from the token expiration.</description><defaultValue>5 minutes</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>JWT Expiration Time</name><displayName>JWT Expiration Time</displayName><description>Expiration time used to set the corresponding claim of the JWT. In case the returned access token does not include
an expiration time, this will be used with the refresh window to re-acquire a new access token.
</description><defaultValue>1 hour</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property></properties><dynamicProperties><dynamicProperty><name>CLAIM.JWT claim name</name><value>JWT claim value</value><description>Custom claims that should be added to the JWT.</description><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope></dynamicProperty><dynamicProperty><name>FORM.Request parameter name</name><value>Request parameter value</value><description>Custom parameters that should be added to the body of the request against the token endpoint.</description><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope></dynamicProperty></dynamicProperties><supportsSensitiveDynamicProperties>true</supportsSensitiveDynamicProperties><providedServiceAPIs><providedServiceAPI><className>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></providedServiceAPI></providedServiceAPIs></extension><extension><name>org.apache.nifi.oauth2.StandardOauth2AccessTokenProvider</name><type>CONTROLLER_SERVICE</type><description>Provides OAuth 2.0 access tokens that can be used as Bearer authorization header in HTTP requests. Can use either Resource Owner Password Credentials Grant or Client Credentials Grant. Client authentication can be done with either HTTP Basic authentication or in the request body.</description><tags><tag>oauth2</tag><tag>provider</tag><tag>authorization</tag><tag>access token</tag><tag>http</tag></tags><properties><property><name>Authorization Server URL</name><displayName>Authorization Server URL</displayName><description>The URL of the authorization server that issues access tokens.</description><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Client Authentication Strategy</name><displayName>Client Authentication Strategy</displayName><description>Strategy for authenticating the client against the OAuth2 token provider service.</description><defaultValue>REQUEST_BODY</defaultValue><allowableValues><allowableValue><displayName>REQUEST_BODY</displayName><value>REQUEST_BODY</value><description>Send client authentication in request body. RFC 6749 Section 2.3.1 recommends Basic Authentication instead of request body.</description></allowableValue><allowableValue><displayName>BASIC_AUTHENTICATION</displayName><value>BASIC_AUTHENTICATION</value><description>Send client authentication using HTTP Basic authentication.</description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Grant Type</name><displayName>Grant Type</displayName><description>The OAuth2 Grant Type to be used when acquiring an access token.</description><defaultValue>password</defaultValue><allowableValues><allowableValue><displayName>User Password</displayName><value>password</value><description>Resource Owner Password Credentials Grant. Used to access resources available to users. Requires username and password and usually Client ID and Client Secret.</description></allowableValue><allowableValue><displayName>Client Credentials</displayName><value>client_credentials</value><description>Client Credentials Grant. Used to access resources available to clients. Requires Client ID and Client Secret.</description></allowableValue><allowableValue><displayName>Refresh Token</displayName><value>refresh_token</value><description>Refresh Token Grant. Used to get fresh access tokens based on a previously acquired refresh token. Requires Client ID and Client Secret (apart from Refresh Token).</description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Username</name><displayName>Username</displayName><description>Username on the service that is being accessed.</description><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>Grant Type</propertyName><propertyDisplayName>Grant Type</propertyDisplayName><dependentValues><dependentValue>password</dependentValue></dependentValues></dependency></dependencies></property><property><name>Password</name><displayName>Password</displayName><description>Password for the username on the service that is being accessed.</description><required>true</required><sensitive>true</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>Grant Type</propertyName><propertyDisplayName>Grant Type</propertyDisplayName><dependentValues><dependentValue>password</dependentValue></dependentValues></dependency></dependencies></property><property><name>Refresh Token</name><displayName>Refresh Token</displayName><description>Refresh Token supports retrieving a new Access Token when configured</description><required>true</required><sensitive>true</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>Grant Type</propertyName><propertyDisplayName>Grant Type</propertyDisplayName><dependentValues><dependentValue>refresh_token</dependentValue></dependentValues></dependency></dependencies></property><property><name>Client ID</name><displayName>Client ID</displayName><description></description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Client secret</name><displayName>Client secret</displayName><description></description><required>true</required><sensitive>true</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>Client ID</propertyName><propertyDisplayName>Client ID</propertyDisplayName></dependency></dependencies></property><property><name>Scope</name><displayName>Scope</displayName><description>Space-delimited, case-sensitive list of scopes of the access request (as per the OAuth 2.0 specification)</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Resource</name><displayName>Resource</displayName><description>Resource URI for the access token request defined in RFC 8707 Section 2</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Audience</name><displayName>Audience</displayName><description>Audience for the access token request defined in RFC 8693 Section 2.1</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Refresh Window</name><displayName>Refresh Window</displayName><description>The service will attempt to refresh tokens expiring within the refresh window, subtracting the configured duration from the token expiration.</description><defaultValue>0 s</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>SSL Context Service</name><displayName>SSL Context Service</displayName><description></description><controllerServiceDefinition><className>org.apache.nifi.ssl.SSLContextProvider</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></controllerServiceDefinition><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>HTTP Protocols</name><displayName>HTTP Protocols</displayName><description>HTTP Protocols supported for Application Layer Protocol Negotiation with TLS</description><defaultValue>H2_HTTP_1_1</defaultValue><allowableValues><allowableValue><displayName>http/1.1</displayName><value>HTTP_1_1</value><description>HTTP/1.1</description></allowableValue><allowableValue><displayName>h2 http/1.1</displayName><value>H2_HTTP_1_1</value><description>HTTP/2 and HTTP/1.1 negotiated based on requested protocols</description></allowableValue><allowableValue><displayName>h2</displayName><value>H2</value><description>HTTP/2</description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>SSL Context Service</propertyName><propertyDisplayName>SSL Context Service</propertyDisplayName></dependency></dependencies></property><property><name>proxy-configuration-service</name><displayName>Proxy Configuration Service</displayName><description>Specifies the Proxy Configuration Controller Service to proxy network requests. Supported proxies: HTTP + AuthN</description><controllerServiceDefinition><className>org.apache.nifi.proxy.ProxyConfigurationService</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></controllerServiceDefinition><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property></properties><providedServiceAPIs><providedServiceAPI><className>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</className><groupId>org.apache.nifi</groupId><artifactId>nifi-standard-services-api-nar</artifactId><version>2.4.0</version></providedServiceAPI></providedServiceAPIs></extension></extensions></extensionManifest>